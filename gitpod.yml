tasks:
  - name: Setup Environment
    init: |
      # Update package lists and install prerequisites
      sudo apt update && sudo apt install -y \
        python3 python3-pip ruby-full mysql-server nodejs npm build-essential

      # Install Yarn globally
      npm install -g yarn

      # Run the Python setup script to configure dependencies
      python3 setup.py

    command: |
      # Start the application
      yarn start &      # Start the Node.js app
      rails s -b 0.0.0.0  # Start the Rails server

ports:
  - port: 3000   # Node.js app port
    onOpen: open-preview
  - port: 8080   # Rails server port
    onOpen: open-preview

vscode:
  extensions:
    - dbaeumer.vscode-eslint  # JavaScript linting
